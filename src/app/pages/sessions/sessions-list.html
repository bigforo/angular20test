<ion-header [translucent]="true">
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-menu-button></ion-menu-button>
    </ion-buttons>
    <ion-title>Previous Sessions</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content fullscreen="true">

    <ion-list #scheduleList [hidden]="sessions().length === 0">
      @for (session of sessions(); track $index){
        @let ix= $index;
        <ion-item-group>
          <ion-item-divider sticky>
            <ion-label> {{session?.created | date:"dd MMM"}} </ion-label>
          </ion-item-divider>
          <ion-item-sliding #slidingItem>
            <ion-item [routerLink]="['/session']" [queryParams]="{id: ix}">
              <ion-label>
          @for (activity of session?.activities; track activity) {
                  <h3>{{activity.exercise.name}}</h3>
                  <p>
                    {{activity.time}}
                  </p>
          }
              </ion-label>
            </ion-item>

            <ion-item-options>
              <ion-item-option color="danger">
                Remove
              </ion-item-option>
            </ion-item-options>

          </ion-item-sliding>
        </ion-item-group>

      }
    </ion-list>
</ion-content>

<ion-footer>
  <ion-toolbar>

    <ion-button id="present-alert" color="light" expand="block" >Reset all sessions</ion-button>
    <ion-alert
      trigger="present-alert"
      header="Are you sure?"
      [buttons]="alertButtons"
    ></ion-alert>
  </ion-toolbar>
</ion-footer>
