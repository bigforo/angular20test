<ion-grid [fixed]="true">
  @let exercise = Activity.exerciseById(activity().id);
  @for (set of activity().sets; track $index) {
    <ion-row>
      <!--  Index -->
      <ion-col size="60px">
        <ion-label color="secondary"><small> #{{ $index + 1 }} </small></ion-label>
      </ion-col>
      <!-- Time -->
      <ion-col size="60px">
        <ion-label color="secondary"><small>{{ set.time| date:'HH:mm' }} </small>
        </ion-label>
      </ion-col>
      <!-- Delta-->
      <ion-col size="60px">
<!--      @if ($index > 0){-->
<!--        <ion-text style="font-size: small" color="warning">-->
<!--          [{{service.diff(activity().sets[$index].time,activity().sets[$index-1].time)}}]-->
<!--        </ion-text>-->
<!--      }-->
        <ion-text style="font-size: small" color="warning">

          @if ($index == 0 &&
               (actEx().prevActivity === null || (actEx().prevActivity?.sets?.length ?? 0) == 0)
              ){
            /
          }
          @else if ($index == 0 ){
            {{
              service.diff(
                actEx().activity.sets[$index].time,
                actEx().prevActivity!.sets.at(-1)!.time)
            }} min
          }
          @if ($index > 0 && actEx().activity.sets.length > 0){
            {{
              service.diff(
                actEx().activity.sets[$index].time,
                actEx().activity.sets[$index-1].time)
            }} min
          }
        </ion-text>

      </ion-col>

      <!-- Reps X Sets -->
      <ion-col class="ion-text-center">
        <ion-label color="tertiary">
          @if (exercise?.reps) {
          {{ set.reps }}
          }
          @if (exercise?.weight) {
            {{ 'x ' + set.size }}{{ exercise?.weightUnit }}
          }
          @if (!exercise?.reps && !exercise?.weight){
            {{ set.reps }}
          }
        </ion-label>
      </ion-col>
    </ion-row>
  }
</ion-grid>
